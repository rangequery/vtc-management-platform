{# Chargement dynamique du modal #}
{% set route_index = 'app_sous_traitent_index' %}
{% set route_new = 'app_sous_traitent_new' %}
{% set route_edit = 'app_sous_traitent_edit' %}

{% set titreEdit = 'Sous traitent' %}
{% if app.request.attributes.get('_route') != route_index %}
    {% set id = sous_traitent.id %}
{% endif %}

<div class="modal-header">
    <p class="text-primary m-0 fw-bold">
        {% if app.request.attributes.get('_route') == route_index %}
            Ajouter {{ titreEdit }}
        {% else %}
            Ã‰diter {{ titreEdit }} # {{ id }}
        {% endif %}
    </p>
    <button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
    <div class="card-body">
        {% if app.request.attributes.get('_route') == route_index %}
            {{ form_start(form, {'action': path(route_new)}) }}
        {% else %}
            {{ form_start(form, {'action': path(route_edit, {'id': id})}) }}
        {% endif %}
        <div class="row">
            <div class="col">
                <div class="mb-3"><label class="form-label" for="status"><strong>Nom</strong></label>
                    {{ form_widget(form.nom) }}
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3"><label class="form-label" for="status"><strong>Adresse</strong></label>
                    {{ form_widget(form.adresse) }}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="mb-3"><label class="form-label"
                                         for="username"><strong>Telephone</strong></label>{{ form_widget(form.telephone) }}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3"><label class="form-label"
                                         for="email"><strong>@ Email</strong></label>{{ form_widget(form.email) }}</div>
            </div>
        </div>


        <div class="text-end mb-3">
            <button class="btn btn-sm btn-light" type="button" data-bs-dismiss="modal">Annuler</button>
            <button class="btn btn-sm btn-success">
                {% if app.request.attributes.get('_route') == route_index %}
                    Ajouter
                {% else %}
                    Modifier
                {% endif %}
            </button>
        </div>
        {{ form_end(form) }}
    </div>
</div>